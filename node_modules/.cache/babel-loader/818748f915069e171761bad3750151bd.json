{"ast":null,"code":"var _jsxFileName = \"/home/amani/city-explorer/src/App.js\";\nimport './App.css';\nimport React from 'react';\nimport axios from 'axios';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Map from './component/map';\nimport Weather from './component/weather';\nimport Movie from './component/movie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getData = async e => {\n      e.preventDefault();\n      const allCity = await axios.get(`https://us1.locationiq.com/v1/search?key=${process.env.REACT_APP_CITY_KEY}&q=${e.target.control.value}&format=json`);\n      const searchQuery = e.target.control.value;\n      console.log(searchQuery);\n\n      try {\n        console.log(allCity);\n        this.setState({\n          userInput: e.target.control.value,\n          cityData: allCity.data[0],\n          display_name: allCity.data[0].display_name,\n          latitude: allCity.data[0].lat,\n          longitude: allCity.data[0].lon,\n          displayError: false\n        });\n        this.displayWeather(searchQuery, allCity.data[0].lat, allCity.data[0].lon);\n        this.displayMovie(searchQuery, allCity.data[0].lat, allCity.data[0].lon);\n      } catch (error) {\n        this.setState({\n          display_name: '',\n          displayError: true,\n          errorMessage: error.response.status + ' : ' + error.response.data.error\n        });\n      }\n    };\n\n    this.displayWeather = async (lat, lon) => {\n      const weatherData = await axios.get(`http://localhost:3001/weather?lat=${lat}&lon=${lon}`);\n      console.log(weatherData.d);\n\n      try {\n        this.setState({\n          isWeather: true,\n          weatherData: weatherData.data\n        });\n      } catch (error) {\n        this.setState({\n          display_name: '',\n          errorMessage: error.response.status + ':' + error.response.data.error,\n          isWeather: false,\n          displayError: true\n        });\n      }\n    };\n\n    this.displayMovie = async searchQuery => {\n      const movieData = await axios.get(`http://localhost:3001/movies?query=${searchQuery}`);\n      console.log(movieData.data);\n\n      try {\n        this.setState({\n          isMovie: true,\n          movie: movieData.data\n        });\n      } catch (error) {\n        this.setState({\n          errorMessage: error.response.status + ':' + error.response.data.error,\n          displayError: true,\n          isMovie: false\n        });\n      }\n    };\n\n    this.state = {\n      userInput: '',\n      cityData: '',\n      display_name: '',\n      latitude: '',\n      longitude: '',\n      errorMessage: '',\n      displayError: false,\n      weatherData: [],\n      isWeather: false,\n      movie: [],\n      isMovie: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: process.env.REACT_APP_TITLE\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: this.getData,\n        id: \"control\",\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"City Explorer: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            id: \"control\",\n            type: \"explorer\",\n            placeholder: \"Enter city name ...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"button\",\n          variant: \"primary\",\n          type: \"submit\",\n          children: \"Explore!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), this.state.displayError && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: this.state.errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" The city you entered cannot be found, please check your spelling or try a different city! \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), this.state.display_name && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"City Name: \", this.state.display_name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"City latitude: \", this.state.latitude, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"City longitude: \", this.state.longitude]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Map, {\n          map_src: `https://maps.locationiq.com/v3/staticmap?key=${process.env.REACT_APP_CITY_KEY}&center=${this.state.latitude},${this.state.longitude}&zoom=10`,\n          city: this.state.display_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }, this), this.state.isWeather && /*#__PURE__*/_jsxDEV(Weather, {\n        weather: this.state.weatherData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }, this), this.state.isMovie && /*#__PURE__*/_jsxDEV(Movie, {\n        movie: this.state.movie\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"names":["React","axios","Form","Button","Map","Weather","Movie","App","Component","constructor","props","getData","e","preventDefault","allCity","get","process","env","REACT_APP_CITY_KEY","target","control","value","searchQuery","console","log","setState","userInput","cityData","data","display_name","latitude","lat","longitude","lon","displayError","displayWeather","displayMovie","error","errorMessage","response","status","weatherData","d","isWeather","movieData","isMovie","movie","state","render","REACT_APP_TITLE"],"sources":["/home/amani/city-explorer/src/App.js"],"sourcesContent":["\nimport './App.css';\n\nimport React from 'react';\nimport axios from 'axios';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Map from './component/map';\nimport Weather from './component/weather';\nimport Movie from './component/movie';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userInput: '',\n      cityData: '',\n      display_name: '',\n      latitude: '',\n      longitude: '',\n      errorMessage: '',\n      displayError: false,\n      weatherData: [],\n      isWeather: false,\n      movie: [],\n      isMovie: false\n    }\n  }\n\n  getData = async (e) => {\n    e.preventDefault();\n    const allCity = await axios.get(`https://us1.locationiq.com/v1/search?key=${process.env.REACT_APP_CITY_KEY}&q=${e.target.control.value}&format=json`);\n\n    const searchQuery = e.target.control.value;\n    console.log(searchQuery);\n\n    try {\n      console.log(allCity);\n      this.setState({\n        userInput: e.target.control.value,\n        cityData: allCity.data[0],\n        display_name: allCity.data[0].display_name,\n        latitude: allCity.data[0].lat,\n        longitude: allCity.data[0].lon,\n        displayError: false,\n      });\n\n      this.displayWeather(searchQuery, allCity.data[0].lat, allCity.data[0].lon)\n      this.displayMovie(searchQuery,allCity.data[0].lat, allCity.data[0].lon)\n    }\n\n    catch (error) {\n\n      this.setState({\n        display_name: '',\n        displayError: true,\n        errorMessage: error.response.status + ' : ' + error.response.data.error\n\n\n      })\n    }\n\n\n  }\n  //https://cityexplorer-backend.herokuapp.com/\n  displayWeather = async (lat, lon) => {\n     const weatherData = await axios.get(`http://localhost:3001/weather?lat=${lat}&lon=${lon}`)\n      console.log(weatherData.d);\n    try {\n      this.setState({\n        isWeather: true,\n        weatherData: weatherData.data\n\n      })\n    } catch (error) {\n      this.setState({\n        display_name: '',\n        errorMessage: error.response.status + ':' + error.response.data.error,\n        isWeather: false,\n        displayError: true\n      })\n\n    }}\n\n  \n  displayMovie = async (searchQuery) => {\n      const movieData = await axios.get(`http://localhost:3001/movies?query=${searchQuery}`)\n      console.log(movieData.data);\n    try {\n      this.setState({\n        isMovie: true,\n        movie: movieData.data\n      })\n\n    } catch (error) {\n      this.setState({\n        errorMessage: error.response.status + ':' + error.response.data.error,\n        displayError: true,\n        isMovie: false\n      })\n\n\n\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>{process.env.REACT_APP_TITLE}</h1>\n        <Form onSubmit={this.getData} id=\"control\" className='form'>\n          <Form.Group className=\"mb-3\" >\n            <Form.Label>City Explorer: </Form.Label>\n            <Form.Control id=\"control\" type=\"explorer\" placeholder=\"Enter city name ...\" />\n          </Form.Group>\n          <Button className='button' variant=\"primary\" type=\"submit\">\n            Explore!\n          </Button>\n        </Form>\n\n\n        {this.state.displayError &&\n          <>\n\n            <h1>{this.state.errorMessage}</h1>\n            <p> The city you entered cannot be found, please check your spelling or try a different city! </p>\n\n\n          </>\n        }\n\n        {this.state.display_name &&\n\n          <div>\n            <h2>City Name: {this.state.display_name}</h2>\n            <p>City latitude: {this.state.latitude} </p>\n            <p>City longitude: {this.state.longitude}</p>\n\n            <Map\n              map_src={`https://maps.locationiq.com/v3/staticmap?key=${process.env.REACT_APP_CITY_KEY}&center=${this.state.latitude},${this.state.longitude}&zoom=10`}\n              city={this.state.display_name}\n            />\n\n\n          </div>\n        }\n\n        {this.state.isWeather &&\n          < Weather weather={this.state.weatherData} />\n        }\n\n        {this.state.isMovie &&\n          <Movie movie={this.state.movie} />\n        }\n      </div>\n\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}