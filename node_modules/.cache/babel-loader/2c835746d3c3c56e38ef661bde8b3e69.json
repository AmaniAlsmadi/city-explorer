{"ast":null,"code":"var _jsxFileName = \"/home/amani/city-explorer/src/App.js\";\nimport './App.css';\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Map from './components/map';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getCityName = async e => {\n      e.preventDefault();\n      const cityData = await axios.get(`https://eu1.locationiq.com/v1/search?key=${process.env.REACT_APP_CITY_KEY}&q=${e.target.userCityInput.value}&format=json`);\n      const cityName = e.target.userCityInput.value;\n\n      try {\n        console.log(e.target.userCityInput.value); // console.log(cityData.data);\n\n        this.setState({\n          userInput: e.target.userCityInput.value,\n          allCity: cityData.data[0],\n          display_name: cityData.data[0].display_name,\n          latitude: cityData.data[0].lat,\n          longitude: cityData.data[0].lon,\n          displayError: false\n        });\n      } catch (error) {\n        this.setState({\n          displayError: true,\n          errorMessage: error.response.status + ' : ' + error.response.data.error,\n          display_name: ''\n        });\n      }\n\n      this.displayWeather(cityData.data[0].lat, cityData.data[0].lon, cityName);\n    };\n\n    this.displayWeather = async (lat, lon, cityName) => {\n      try {\n        const weatherData = await axios.get('http://localhost:4000/weather', {\n          params: {\n            lat: lat,\n            lon: lon,\n            searchQuery: cityName\n          }\n        });\n        this.setState({\n          weather: weatherData.data,\n          displayError: false\n        });\n      } catch (error) {\n        this.setState({\n          displayError: true,\n          errorMessage: error.response.status + ' : ' + error.response.data.error,\n          display_name: ''\n        });\n      }\n    };\n\n    this.state = {\n      userInput: '',\n      allCity: {},\n      display_name: '',\n      latitude: '',\n      longitude: '',\n      errorMessage: '',\n      displayError: false,\n      weather: []\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \" City Explorer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: this.getCityName,\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          htmlFor: \"text\",\n          id: \"userCityInput\",\n          children: \"Enter City Name \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          id: \"userCityInput\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          children: \"Explore! \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), this.state.displayError && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: this.state.errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" The city you entered cannot be found, please check your spelling or try a different city! \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), this.state.display_name && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"City Name: \", this.state.display_name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"City latitude: \", this.state.latitude, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"City longitude: \", this.state.longitude]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Map, {\n          map_src: `https://maps.locationiq.com/v3/staticmap?key=${process.env.REACT_APP_CITY_KEY}&center=${this.state.latitude},${this.state.longitude}&zoom=10`,\n          city: this.state.display_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this), this.props.weather.map((item, idx) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: item.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: item.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 33\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 29\n          }, this);\n        })]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"names":["React","Component","axios","Form","Button","Map","App","constructor","props","getCityName","e","preventDefault","cityData","get","process","env","REACT_APP_CITY_KEY","target","userCityInput","value","cityName","console","log","setState","userInput","allCity","data","display_name","latitude","lat","longitude","lon","displayError","error","errorMessage","response","status","displayWeather","weatherData","params","searchQuery","weather","state","render","map","item","idx","date","description"],"sources":["/home/amani/city-explorer/src/App.js"],"sourcesContent":["import './App.css';\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n\nimport Map from './components/map';\n\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userInput: '',\n      allCity: {},\n      display_name: '',\n      latitude: '',\n      longitude: '',\n      errorMessage: '',\n      displayError: false,\n      weather: []\n    }\n  }\n\n  getCityName = async (e) => {\n    e.preventDefault();\n\n    const cityData = await axios.get(`https://eu1.locationiq.com/v1/search?key=${process.env.REACT_APP_CITY_KEY}&q=${e.target.userCityInput.value}&format=json`)\n    \n    const cityName = e.target.userCityInput.value\n    \n    try {\n\n      console.log(e.target.userCityInput.value);\n      // console.log(cityData.data);\n\n      this.setState({\n        userInput: e.target.userCityInput.value,\n        allCity: cityData.data[0],\n        display_name: cityData.data[0].display_name,\n        latitude: cityData.data[0].lat,\n        longitude: cityData.data[0].lon,\n        displayError: false\n\n      });\n\n    } catch (error) {\n\n      this.setState({\n        displayError: true,\n        errorMessage: error.response.status + ' : ' + error.response.data.error,\n        display_name: ''\n\n      })\n    }\n\n    this.displayWeather(cityData.data[0].lat,cityData.data[0].lon, cityName)\n  }\n\n  displayWeather = async (lat, lon, cityName) => {\n    try {\n\n      const weatherData = await axios.get('http://localhost:4000/weather', { params: { lat: lat, lon: lon, searchQuery: cityName } });\n      this.setState({\n        weather: weatherData.data,\n        displayError: false\n      })\n\n    } catch (error) {\n      this.setState({\n        displayError: true,\n        errorMessage: error.response.status + ' : ' + error.response.data.error,\n        display_name: ''\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <h1> City Explorer</h1>\n        <Form onSubmit={this.getCityName}>\n          <Form.Label htmlFor=\"text\" id='userCityInput' >Enter City Name </Form.Label>\n          <Form.Control type=\"text\" id=\"userCityInput\" />\n          <Button variant=\"primary\" type=\"submit\">Explore! </Button>\n        </Form>\n\n        {this.state.displayError &&\n          <>\n\n            <h1>{this.state.errorMessage}</h1>\n            <p> The city you entered cannot be found, please check your spelling or try a different city! </p>\n\n\n          </>\n        }\n\n        {this.state.display_name &&\n          <>\n            <p>City Name: {this.state.display_name}</p>\n            <p>City latitude: {this.state.latitude} </p>\n            <p>City longitude: {this.state.longitude}</p>\n\n            <Map\n              map_src={`https://maps.locationiq.com/v3/staticmap?key=${process.env.REACT_APP_CITY_KEY}&center=${this.state.latitude},${this.state.longitude}&zoom=10`}\n              city={this.state.display_name}\n            />\n              {\n                    this.props.weather.map((item, idx) => {\n                        return (\n\n                            <div key={idx}>\n                                <p>{item.date}</p>\n                                <p>{item.description}</p>\n                            </div>\n\n                        )\n                    })\n                }\n          </>\n        }\n\n\n      </div>\n    );\n  }\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}